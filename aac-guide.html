<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>NARBE House's Guide and Lessons Learned - NARBE Foundation</title>
<link rel="icon" type="image/png" href="images/narbefoundation.png">
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&amp;display=swap" rel="stylesheet"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXR0H5SN9F"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXR0H5SN9F');
</script>
<style>
  :root { 
    --header-h: 96px; 
    --blue:#1e293b; 
    --purple:#6366f1; 
    --purple2:#764ba2; 
    --sidebar-width: 300px;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html { scroll-behavior:smooth; min-height: 100%; }
  body { 
    font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
    line-height:1.6; 
    color:#1a1a1a; 
    background:#fff; 
    padding-top:var(--header-h); 
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  /* Header styles matching the main site */
  header{
    position:fixed; 
    top:0; 
    left:0; 
    right:0; 
    background:rgba(255,255,255,.95); 
    backdrop-filter:blur(10px); 
    border-bottom:1px solid rgba(0,0,0,.1); 
    z-index:1000; 
    transition:all .3s ease;
  }
  nav{
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    padding:15px 0 0 0; 
    position:relative;
  }
  .logo{
    font-size:1.5rem; 
    font-weight:700; 
    color:#6366f1; 
    display:flex; 
    align-items:center;
  }
  .logo img{
    height:80px; 
    width:auto; 
    max-width:320px; 
    display:block;
  }
  .site-title{
    display:none; 
    font-weight:700; 
    color:#6366f1; 
    letter-spacing:.2px;
  }
  .nav-links{
    display:flex; 
    list-style:none; 
    gap:2rem;
  }
  .nav-links a{
    text-decoration:none; 
    color:#333; 
    font-weight:500;
  }
  .nav-links a:hover{
    color:#6366f1;
  }
  .mobile-menu-btn{
    display:none;
  }
  
  /* Mobile header styles */
  @media (max-width: 992px){
    :root{ --header-h:84px; }
    nav{ 
      position:relative; 
      display:grid; 
      grid-template-columns:1fr auto 1fr; 
      align-items:center; 
      gap:.9rem;
    }
    .logo{ justify-self:start; grid-column:1; }
    .site-title{ 
      display:block; 
      grid-column:2; 
      justify-self:center; 
      font-size:1.125rem;
    }
    .mobile-menu-btn{ 
      justify-self:end; 
      display:flex; 
      grid-column:3; 
      flex-direction:column; 
      cursor:pointer; 
      padding:5px; 
      background:none; 
      border:none;
    }
    .mobile-menu-btn span{ 
      width:25px; 
      height:3px; 
      background:#333; 
      margin:3px 0; 
      transition:.3s; 
      border-radius:2px;
    }
    
    .nav-links { 
      display: none; 
      position: absolute;
      top: 100%;
      right: 0;
      min-width: 220px;
      background: rgba(255,255,255,.98);
      backdrop-filter: blur(10px);
      flex-direction: column;
      gap: 0;
      box-shadow: 0 4px 20px rgba(0,0,0,.1);
      border-radius: 12px;
      padding: .5rem 0;
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: opacity .2s ease, transform .2s ease, visibility .2s;
      z-index: 999;
    }
    .nav-links.active{ 
      display: flex;
      transform: translateY(0); 
      opacity: 1; 
      visibility: visible;
    }
    .nav-links li{ border-bottom:1px solid rgba(0,0,0,.06); }
    .nav-links li:last-child{ border-bottom:none;}
    .nav-links a{ 
      display:block; 
      width:100%; 
      padding:.8rem 1rem; 
      font-size:1rem;
    }
    .logo img{ height:70px; max-width:260px;}
    nav{ padding:12px 0; }
  }
  
  /* Container and layout styles */
  .container { max-width:1200px; margin:0 auto; padding:0 20px; }
  
  /* Search and sidebar layout */
  .guide-layout {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    gap: 2rem;
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
    flex: 1; /* Take remaining space */
  }
  
  .sidebar {
    position: sticky;
    top: calc(var(--header-h) + 20px);
    height: fit-content;
    background: #ffffff;
    border-radius: 8px;
    padding: 1.5rem;
    border: 1px solid #d1d5db;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  
  .search-container {
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  
  .search-box {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 0.95rem;
    transition: border-color 0.2s ease;
    background: #ffffff;
  }
  
  .search-box:focus {
    outline: none;
    border-color: #6366f1;
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
  }
  
  .search-collapse-toggle {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    padding: 0.75rem;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    background: #ffffff;
    transition: all 0.2s ease;
    min-width: 44px;
  }
  
  .search-collapse-toggle:hover {
    background: #f9fafb;
    border-color: #9ca3af;
  }
  
  .search-results {
    margin-top: 1rem;
    display: none;
  }
  
  .search-result {
    padding: 0.75rem;
    margin: 0.25rem 0;
    background: #f9fafb;
    border-radius: 4px;
    border: 1px solid #e5e7eb;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }
  
  .search-result:hover {
    background: #f3f4f6;
    border-color: #d1d5db;
  }
  
  .search-result-title {
    font-weight: 600;
    color: #1e293b;
    font-size: 0.9rem;
  }
  
  .search-result-excerpt {
    font-size: 0.8rem;
    color: #64748b;
    margin-top: 0.25rem;
  }
  
  /* Chapter navigation */
  .chapter-nav {
    margin-top: 0;
  }
  
  .chapter-nav-header {
    display: none;
  }
  
  .collapse-toggle {
    display: none;
  }
  
  .collapse-arrow {
    font-size: 1rem;
    color: #6b7280;
    transition: transform 0.2s ease;
    user-select: none;
  }
  
  .collapse-arrow.collapsed {
    transform: rotate(180deg);
  }
  
  .chapter-list {
    list-style: none;
    transition: all 0.3s ease;
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
  }
  
  .chapter-list.expanded {
    max-height: none;
    opacity: 1;
    margin-bottom: 0.5rem;
  }
  
  .chapter-list.collapsed {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
  }
  
  .chapter-item {
    margin-bottom: 0.5rem;
  }
  
  .chapter-link {
    display: block;
    padding: 0.75rem 1rem;
    color: #6b7280;
    text-decoration: none;
    border-radius: 4px;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    border-left: 3px solid transparent;
  }
  
  .chapter-link:hover {
    background: #f3f4f6;
    color: #374151;
    border-left-color: #e5e7eb;
  }
  
  .chapter-link.active {
    background: #f0f9ff;
    color: #1e40af;
    font-weight: 500;
    border-left-color: #3b82f6;
  }
  
  /* Main content area */
  .main-content {
    background: #ffffff;
    border-radius: 8px;
    padding: 2rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    border: 1px solid #e5e7eb;
    flex: 1;
  }
  
  /* Hero section - much smaller and more clinical */
  .hero {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    color: #1e293b;
    padding: 1.5rem 2rem;
    border-radius: 8px;
    margin-bottom: 2rem;
    text-align: center;
    border: 1px solid #e2e8f0;
  }
  
  .hero h1 {
    font-size: 1.875rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: #1e293b;
  }
  
  .hero-subtitle {
    font-size: 1rem;
    color: #64748b;
    margin-bottom: 0;
    font-weight: 400;
  }
  
  /* Chapter content styles */
  .chapter {
    display: none;
    animation: fadeIn 0.3s ease;
  }
  
  .chapter.active {
    display: block;
  }
  
  .chapter h2 {
    color: #1e293b;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid #e5e7eb;
  }
  
  .chapter h3 {
    color: #334155;
    font-size: 1.4rem;
    font-weight: 600;
    margin: 2rem 0 1rem;
  }
  
  .chapter h4 {
    color: #475569;
    font-size: 1.1rem;
    font-weight: 600;
    margin: 1.5rem 0 0.75rem;
  }
  
  .chapter p {
    color: #475569;
    font-size: 1.05rem;
    line-height: 1.8;
    margin-bottom: 1.25rem;
  }
  
  .chapter ul, .chapter ol {
    margin: 1rem 0 1.5rem;
    padding-left: 1.5rem;
  }
  
  .chapter li {
    color: #475569;
    font-size: 1.05rem;
    line-height: 1.8;
    margin-bottom: 0.75rem;
  }
  
  .chapter strong {
    color: #1e293b;
    font-weight: 600;
  }
  
  .chapter a {
    color: #6366f1;
    text-decoration: underline;
  }
  
  .chapter a:hover {
    color: #4f46e5;
  }
  
  /* Special content boxes - more professional */
  .disclaimer-box {
    background: #fefce8;
    border: 1px solid #eab308;
    border-left: 4px solid #eab308;
    border-radius: 6px;
    padding: 1.5rem;
    margin: 2rem 0;
  }
  
  .disclaimer-box h3 {
    color: #a16207;
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    text-align: left;
  }
  
  .disclaimer-box p {
    color: #a16207;
    font-size: 0.95rem;
    text-align: left;
    margin: 0;
    line-height: 1.6;
  }
  
  .disclaimer-box p + br + p {
    margin-top: 1rem;
  }
  
  .info-callout {
    background: #f0f9ff;
    border: 1px solid #0ea5e9;
    border-left: 4px solid #0ea5e9;
    border-radius: 6px;
    padding: 1rem 1.25rem;
    margin: 1.5rem 0;
  }
  
  .info-callout p {
    color: #0c4a6e;
    font-size: 0.95rem;
    margin: 0;
  }
  
  .info-quote {
    background: #f8fafc;
    border-left: 4px solid #64748b;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 6px 6px 0;
    font-style: italic;
    color: #475569;
  }
  
  /* Mobile layout */
  @media (max-width: 768px) {
    .guide-layout {
      grid-template-columns: 1fr;
      gap: 1rem;
      padding: 15px;
    }
    
    .sidebar {
      position: static;
      order: -1;
      margin-bottom: 1rem;
    }
    
    .main-content {
      padding: 1.5rem;
    }
    
    .hero {
      padding: 1.25rem 1.5rem;
    }
    
    body { padding-bottom: calc(86px + env(safe-area-inset-bottom)); }
  }
  
  /* Fade animation */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Highlight search matches */
  .highlight {
    background: #fef08a;
    padding: 0.1rem 0.2rem;
    border-radius: 3px;
  }
  
  /* Progress indicator - REMOVED */
  .progress-bar {
    display: none;
  }
  
  /* Donate button styles */
  .donate-btn {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    position: relative;
    animation: donateGlow 2.4s ease-out infinite;
    box-shadow: 0 6px 16px rgba(99,102,241,.25);
  }
  
  .donate-btn:hover {
    box-shadow: 0 10px 25px rgba(99,102,241,0.45);
    transform: translateY(-2px);
  }
  
  @keyframes donateGlow {
    0% { box-shadow: 0 0 0 0 rgba(99,102,241,0.6); }
    70% { box-shadow: 0 0 0 18px rgba(99,102,241,0); }
    100% { box-shadow: 0 0 0 0 rgba(99,102,241,0); }
  }
  
  /* Mobile donate footer */
  .mobile-donate-footer {
    display: none;
  }
  
  @media (max-width: 992px) {
    /* Hide header donate on mobile */
    nav .donate-btn { 
      display: none; 
    }
    
    /* Fixed mobile donate footer */
    .mobile-donate-footer {
      display: flex;
      position: fixed;
      left: 0; right: 0; bottom: 0;
      z-index: 1002;
      justify-content: center;
      background: rgba(241,245,249,0.96);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0,0,0,0.12);
      padding: 12px 20px calc(12px + env(safe-area-inset-bottom));
      transition: opacity 0.2s ease;
    }
    .mobile-donate-footer .container { width: 100%; display: flex; justify-content: center; }
    .mobile-donate-footer .donate-btn {
      margin: 0;
      padding: 0.68rem 1.2rem;
      font-size: 1rem;
    }
  }
  
  /* Chapter navigation buttons */
  .chapter-navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #e5e7eb;
  }
  
  .nav-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: #f8fafc;
    color: #374151;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s ease;
    border: 1px solid #e5e7eb;
  }
  
  .nav-button:hover {
    background: #6366f1;
    color: white;
    border-color: #6366f1;
    transform: translateY(-1px);
  }
  
  .nav-button.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  .nav-arrow {
    font-size: 1rem;
    transition: transform 0.2s ease;
  }
  
  .nav-button:hover .nav-arrow {
    transform: translateX(2px);
  }
  
  .nav-button.prev:hover .nav-arrow {
    transform: translateX(-2px);
  }
  
  @media (max-width: 768px) {
    .chapter-navigation {
      flex-direction: column;
      gap: 1rem;
    }
    
    .nav-button {
      width: 100%;
      justify-content: center;
    }
  }
  
  /* Footer */
  footer { 
    background:#1e293b; 
    color:#fff; 
    text-align:center; 
    padding:2rem 0; 
    margin-top:auto;
  }
</style>
</head>
<body>
<!-- Progress bar -->
<div class="progress-bar" id="progressBar"></div>

<header>
<nav class="container">
<div class="logo">
<a aria-label="Home" href="index.html"><img alt="NARBE Foundation Logo" src="https://raw.githubusercontent.com/narbefoundation/images/refs/heads/main/purple%20more%20space.png"/></a>
</div>
<div class="site-title">NARBE Foundation</div>
<ul class="nav-links" id="navLinks">
<li><a href="index.html#story">Our Story</a></li>
<li><a href="index.html#mission">Mission</a></li>
<li><a href="index.html#why">Our Why</a></li>
<li><a href="index.html#funding">Funding</a></li>
<li><a href="index.html#contact">Contact</a></li>
<li><a href="getting-started.html">Getting Started</a></li>
<li><a href="resources.html">Resources</a></li>
</ul>
<button class="mobile-menu-btn" id="mobileMenuBtn">
<span></span><span></span><span></span>
</button>
<a class="donate-btn" href="index.html#founding-donor">Support Our Mission</a>
</nav>
</header>

<main class="guide-layout">
<!-- Sidebar with search and navigation -->
<aside class="sidebar">
<div class="search-container">
<input type="text" class="search-box" id="searchBox" placeholder="Search the guide...">
<div class="search-collapse-toggle" id="searchCollapseToggle">
<span class="collapse-arrow" id="collapseArrow">&#9662;</span>
</div>
</div>
<div class="search-results" id="searchResults"></div>
<nav class="chapter-nav">
<ul class="chapter-list" id="chapterList">
<li class="chapter-item">
<a href="#disclaimer" class="chapter-link" data-chapter="disclaimer">Disclaimer & Important Notes</a>
</li>
<li class="chapter-item">
<a href="#introduction" class="chapter-link" data-chapter="introduction">1. Introduction — Why Custom AAC Matters</a>
</li>
<li class="chapter-item">
<a href="#bens-story" class="chapter-link" data-chapter="bens-story">2. Ben's Story — Motivation First</a>
</li>
<li class="chapter-item">
<a href="#understand-individual" class="chapter-link" data-chapter="understand-individual">3. Understand the Individual</a>
</li>
<li class="chapter-item">
<a href="#communication-pathways" class="chapter-link" data-chapter="communication-pathways">4. Communication Pathways</a>
</li>
<li class="chapter-item">
<a href="#technology-tiers" class="chapter-link" data-chapter="technology-tiers">5. Technology Tiers</a>
</li>
<li class="chapter-item">
<a href="#input-access" class="chapter-link" data-chapter="input-access">6. Input Access and Mounting</a>
</li>
<li class="chapter-item">
<a href="#design-principles" class="chapter-link" data-chapter="design-principles">7. Design for Vision, Sensory, and Motivation</a>
</li>
<li class="chapter-item">
<a href="#build-with-ai" class="chapter-link" data-chapter="build-with-ai">8. Build With AI — The Vibe Coding Workflow</a>
</li>
<li class="chapter-item">
<a href="#core-skills" class="chapter-link" data-chapter="core-skills">9. Core AAC Skills — Literacy and Choice-Making</a>
</li>
<li class="chapter-item">
<a href="#comfort-positioning" class="chapter-link" data-chapter="comfort-positioning">10. Comfort, Positioning, and Ergonomics</a>
</li>
<li class="chapter-item">
<a href="#digital-world" class="chapter-link" data-chapter="digital-world">11. Build the Digital World</a>
</li>
<li class="chapter-item">
<a href="#teaching-routines" class="chapter-link" data-chapter="teaching-routines">12. Teaching, Daily Routines, and Caregiver Training</a>
</li>
<li class="chapter-item">
<a href="#sustainability" class="chapter-link" data-chapter="sustainability">13. Long-Term Sustainability</a>
</li>
<li class="chapter-item">
<a href="#sharing-tools" class="chapter-link" data-chapter="sharing-tools">14. Sharing Your Tools and Helping Others</a>
</li>
<li class="chapter-item">
<a href="#bringing-together" class="chapter-link" data-chapter="bringing-together">15. Bringing It All Together</a>
</li>
<li class="chapter-item">
<a href="#glossary" class="chapter-link" data-chapter="glossary">Glossary</a>
</li>
<li class="chapter-item">
<a href="#key-takeaways" class="chapter-link" data-chapter="key-takeaways">Key Takeaways</a>
</li>
</ul>
</nav>
</aside>

<!-- Main content area -->
<div class="main-content">
<div class="hero">
<h1>NARBE House's Guide and Lessons Learned</h1>
<p class="hero-subtitle">Our family's journey building custom AAC solutions for Ben - principles, lessons, and practical guidance</p>
</div>

<!-- Disclaimer Chapter -->
<section class="chapter active" id="disclaimer" data-chapter="disclaimer">
<div class="disclaimer-box">
<h3>Disclaimer and Important Notes</h3>
<p>This guide provides general information for families and builders exploring custom AAC solutions. It is <strong>not</strong> medical, therapeutic, or legal advice. Treat it as a starting point. These tools work for Ben, and we release them for others to try. We hope they help. Expect to customize.</p>
<br>
<p>Consult qualified professionals (doctors, therapists, assistive technology specialists) before making changes that affect health, mobility, or safety. Test thoroughly before daily use. Respect consent and privacy. The person using AAC should help decide about their system.</p>
</div>
<div class="chapter-navigation">
<div></div>
<a href="#introduction" class="nav-button next" data-chapter="introduction">
<span>Next: Introduction</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 1: Introduction -->
<section class="chapter" id="introduction" data-chapter="introduction">
<h2>Chapter 1: Introduction — Why Custom AAC Matters</h2>

<h3>What is AAC?</h3>
<p><strong>Augmentative and Alternative Communication</strong> includes any tool that helps someone communicate when speech alone is unreliable.</p>

<h3>Why custom?</h3>
<p>Off-the-shelf systems can be costly, slow to obtain, and designed for average users. Personalization drives motivation and use. We build from the person outward.</p>

<h3>Success looks like</h3>
<p>Small wins: intentional presses, choices made, yes or no answers, typed words, independent play, smiles during use.</p>

<h3>Guiding values</h3>
<p>Start simple, build on reliable movement, respect comfort, personalize, stay flexible, celebrate progress.</p>

<h3>3-point start</h3>
<ul>
<li>Observe and note reliable movements and best times of day</li>
<li>Try "paper buttons" or simple digital ones to test access</li>
<li>Review what's working and what's preferred</li>
</ul>

<h3>Budget rough-in</h3>
<p>Paper and markers under $10. Single button $20 to $60. DIY button $20 to $30. Basic mounts $10 to $30.</p>

<h3>Starter plan for the first week</h3>
<ul>
<li><strong>Day 1 to 2:</strong> Observe and confirm one reliable movement</li>
<li><strong>Day 3:</strong> Set up yes and no with paper or a basic app</li>
<li><strong>Day 4:</strong> Add two fun choices the person cares about</li>
<li><strong>Day 5:</strong> Adjust for comfort and timing</li>
<li><strong>Day 6:</strong> Add sound or speech feedback</li>
<li><strong>Day 7:</strong> Review what worked and decide the next goal</li>
</ul>
<div class="chapter-navigation">
<a href="#disclaimer" class="nav-button prev" data-chapter="disclaimer">
<span class="nav-arrow">←</span>
<span>Previous: Disclaimer</span>
</a>
<a href="#bens-story" class="nav-button next" data-chapter="bens-story">
<span>Next: Ben's Story</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 2: Ben's Story -->
<section class="chapter" id="bens-story" data-chapter="bens-story">
<h2>Chapter 2: Ben's Story — Motivation First</h2>

<p>Ben is nonverbal and quadriplegic due to TUBB4A-related leukodystrophy. He once spoke and typed but lost those abilities. He relied on head turns for yes or no.</p>

<p>Early AAC attempts stalled because devices felt sterile and unmotivating. He stopped initiating communication.</p>

<h3>The breakthrough</h3>
<ol>
<li>Map two head movements to buttons (left = no, right = yes)</li>
<li>Build a custom app with personal phrases and voice clips</li>
<li>Use AI to create simple games and full keyboard access</li>
</ol>

<h3>Today</h3>
<p>Ben plays games, picks shows, and communicates with a scanning keyboard and predictive text.</p>

<div class="info-callout">
<p><strong>Lesson:</strong> Motivation and personalization drive use. Without personal meaning, tools sit idle.</p>
</div>
<div class="chapter-navigation">
<a href="#introduction" class="nav-button prev" data-chapter="introduction">
<span class="nav-arrow">←</span>
<span>Previous: Introduction</span>
</a>
<a href="#understand-individual" class="nav-button next" data-chapter="understand-individual">
<span>Next: Understand the Individual</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 3: Understand the Individual -->
<section class="chapter" id="understand-individual" data-chapter="understand-individual">
<h2>Chapter 3: Understand the Individual</h2>

<h3>Observation goals</h3>
<ul>
<li>Find <strong>reliable movement</strong> that is repeatable, intentional, and painless</li>
<li>Understand <strong>comfort and fatigue patterns</strong> and the best times of day</li>
<li>Identify <strong>motivation</strong> triggers</li>
</ul>

<div class="info-callout">
<p><strong>One reliable movement is enough</strong> for scanning. The computer highlights options. The user selects.</p>
</div>

<h3>Comfort matters</h3>
<p>Posture and positioning reduce errors and extend sessions. Watch for red skin, accuracy drops, or signs of strain.</p>

<h3>Document findings</h3>
<p>Create a simple one-page profile. This will guide decisions about hardware, layout, and timing.</p>
<div class="chapter-navigation">
<a href="#bens-story" class="nav-button prev" data-chapter="bens-story">
<span class="nav-arrow">←</span>
<span>Previous: Ben's Story</span>
</a>
<a href="#communication-pathways" class="nav-button next" data-chapter="communication-pathways">
<span>Next: Communication Pathways</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 4: Communication Pathways -->
<section class="chapter" id="communication-pathways" data-chapter="communication-pathways">
<h2>Chapter 4: Communication Pathways</h2>

<h3>The communication ladder</h3>
<ul>
<li><strong>Level 1: Cause and Effect</li>
<li><strong>Level 2: Choice-Making</li>
<li><strong>Level 3: Symbol-Based</li>
<li><strong>Level 4: Hybrid</li>
<li><strong>Level 5: Spelling or Text</li>
</ul>

<p>People can skip levels. If literacy is present, jump to text. Motivation beats assumptions.</p>

<h3>Growth path</h3>
<p>Yes or no → phrase board → expanded board → entertainment controls → keyboard → predictive text.</p>
<div class="chapter-navigation">
<a href="#understand-individual" class="nav-button prev" data-chapter="understand-individual">
<span class="nav-arrow">←</span>
<span>Previous: Understand the Individual</span>
</a>
<a href="#technology-tiers" class="nav-button next" data-chapter="technology-tiers">
<span>Next: Technology Tiers</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 5: Technology Tiers -->
<section class="chapter" id="technology-tiers" data-chapter="technology-tiers">
<h2>Chapter 5: Technology Tiers</h2>

<h3>Low-tech ($0 to $20)</h3>
<p>Printed cards, laminated grids, paper boards. Good for testing and backup.</p>

<h3>Mid-tech ($20 to $200)</h3>
<p>Single or dual-button communicators, switch-adapted toys with audio feedback.</p>

<h3>High-tech ($200 to $15,000+)</h3>
<p>iPad AAC apps, custom scanning software, dedicated AAC devices.</p>

<div class="info-callout">
<p><strong>Rule:</strong> Start at the lowest level that meets current needs and builds motivation. Add complexity slowly.</p>
</div>
<div class="chapter-navigation">
<a href="#communication-pathways" class="nav-button prev" data-chapter="communication-pathways">
<span class="nav-arrow">←</span>
<span>Previous: Communication Pathways</span>
</a>
<a href="#input-access" class="nav-button next" data-chapter="input-access">
<span>Next: Input Access and Mounting</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 6: Input Access -->
<section class="chapter" id="input-access" data-chapter="input-access">
<h2>Chapter 6: Input Access and Mounting</h2>

<h3>Match movement to hardware</h3>
<ul>
<li>Head turn → mounted switches (for example, Orby)</li>
<li>Finger or hand → large button switch</li>
<li>Foot → pedal switch</li>
<li>Breath → sip and puff</li>
<li>Eyes → eye tracker or webcam-based tracker</li>
<li>Head or face cues → camera tracking tools</li>
<li>Muscle signal → EMG sensor</li>
</ul>

<div class="info-callout">
<p><strong>Key principle:</strong> One reliable, comfortable movement is enough.</p>
</div>

<h3>Mounting</h3>
<p>Place the device at a natural resting position. Small changes can greatly improve accuracy.</p>

<h3>Safety notes</h3>
<ul>
<li>Avoid straps or pressure on the neck</li>
<li>Check skin under mounts and pads</li>
<li>Secure and tidy cables to prevent pulls or falls</li>
</ul>
<div class="chapter-navigation">
<a href="#technology-tiers" class="nav-button prev" data-chapter="technology-tiers">
<span class="nav-arrow">←</span>
<span>Previous: Technology Tiers</span>
</a>
<a href="#design-principles" class="nav-button next" data-chapter="design-principles">
<span>Next: Design for Vision, Sensory, and Motivation</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 7: Design Principles -->
<section class="chapter" id="design-principles" data-chapter="design-principles">
<h2>Chapter 7: Design for Vision, Sensory, and Motivation</h2>

<h3>Visual principles</h3>
<p>Large buttons, high contrast, consistent color cues, minimal clutter.</p>

<h3>Vision support</h3>
<ul>
<li>Low vision → larger buttons and high contrast</li>
<li>Color blindness → pair colors with text or shapes</li>
<li>Light sensitivity → dark mode and reduced glare</li>
</ul>

<h3>Hearing support</h3>
<p><strong>Text-to-speech is strongly recommended</strong> for scanning and selection so the user can confirm what is highlighted and chosen.</p>

<h3>Motivation</h3>
<p>Use favorite characters, humor, independence goals, and social connection. Make it feel personal, not clinical.</p>
<div class="chapter-navigation">
<a href="#input-access" class="nav-button prev" data-chapter="input-access">
<span class="nav-arrow">←</span>
<span>Previous: Input Access and Mounting</span>
</a>
<a href="#build-with-ai" class="nav-button next" data-chapter="build-with-ai">
<span>Next: Build With AI</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 8: Build With AI -->
<section class="chapter" id="build-with-ai" data-chapter="build-with-ai">
<h2>Chapter 8: Build With AI — The Vibe Coding Workflow</h2>

<h3>Why AI helps</h3>
<p>Tools like ChatGPT, Claude, and Gemini let families build custom AAC in hours or days.</p>

<h3>Vibe Coding cycle</h3>
<ul>
<li><strong>Describe</strong> clearly</li>
<li><strong>Generate</strong> code or designs with AI</li>
<li><strong>Test</strong> with the person right away</li>
<li><strong>Refine</strong> based on what you see</li>
<li><strong>Repeat</strong> often</li>
</ul>

<h3>Ben's early sequence</h3>
<ol>
<li>Two-button yes or no app</li>
<li>Simple phrase board</li>
<li>Entertainment controls</li>
<li>First custom game</li>
<li>Scanning keyboard</li>
</ol>

<h3>Helpful tools</h3>
<ul>
<li>ChatGPT, Claude, Gemini for ideas and code</li>
<li>GitHub Copilot or Cursor for code completion</li>
</ul>

<h3>Sample prompts</h3>
<div class="info-quote">
<p>"Create a Python app with two big buttons: Yes (green) and No (red). When pressed, speak the word."</p>
</div>
<div class="info-quote">
<p>"Add a memory matching game with six cards. Play a sound when a pair is found."</p>
</div>
<div class="info-quote">
<p>"Make buttons larger with rounded corners and a dark background."</p>
</div>

<h3>Tips</h3>
<ul>
<li>Be specific and break work into small steps</li>
<li>Ask AI to explain any code</li>
<li>Keep backups of working versions</li>
<li>Test before daily use</li>
<li>Verify code before running</li>
</ul>
<div class="chapter-navigation">
<a href="#design-principles" class="nav-button prev" data-chapter="design-principles">
<span class="nav-arrow">←</span>
<span>Previous: Design for Vision, Sensory, and Motivation</span>
</a>
<a href="#core-skills" class="nav-button next" data-chapter="core-skills">
<span>Next: Core AAC Skills</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 9: Core Skills -->
<section class="chapter" id="core-skills" data-chapter="core-skills">
<h2>Chapter 9: Core AAC Skills — Literacy and Choice-Making</h2>

<h3>Literacy path</h3>
<ul>
<li>Single letter sounds (start with lowercase and short vowels)</li>
<li>Blend 2 to 3 letters into words</li>
<li>High-frequency sight words</li>
<li>Multi-letter sounds and endings</li>
<li>Compound words and complex patterns</li>
<li>Reading comprehension and writing</li>
</ul>

<h3>Daily shared reading</h3>
<p>Aim for up to 60 to 90 minutes across the day in short chunks. Keep it fun and interactive. Combine reading and writing.</p>

<h3>Build comprehension</h3>
<ul>
<li>Start simple: who, what, where</li>
<li>Expand: feelings, categories, cause and effect</li>
<li>Advance: author intent, alternatives, perspective writing</li>
</ul>

<h3>Choice-making for independence</h3>
<ul>
<li>Start with concrete choices you can show</li>
<li>Move to recognizable but abstract choices</li>
<li>Include meaningful decisions about goals and health topics</li>
</ul>

<h3>Partner-assisted scanning</h3>
<ol>
<li>Establish a consistent yes or no</li>
<li>Prepare a short list of up to five choices</li>
<li>Announce once, then scan with long pauses</li>
<li>Offer a "none of the above" option</li>
<li>Honor attempts and stay positive</li>
</ol>
<div class="chapter-navigation">
<a href="#build-with-ai" class="nav-button prev" data-chapter="build-with-ai">
<span class="nav-arrow">←</span>
<span>Previous: Build With AI</span>
</a>
<a href="#comfort-positioning" class="nav-button next" data-chapter="comfort-positioning">
<span>Next: Comfort, Positioning, and Ergonomics</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 10: Comfort -->
<section class="chapter" id="comfort-positioning" data-chapter="comfort-positioning">
<h2>Chapter 10: Comfort, Positioning, and Ergonomics</h2>

<h3>Three pillars</h3>
<p>Posture support, stable mounting, and a good environment.</p>

<h3>Functional comfort</h3>
<p>Can the person access inputs without strain, see clearly, and hear feedback?</p>

<h3>Adapt often</h3>
<p>Adjust mounts, scan speed, and feedback as bodies and needs change.</p>

<h3>Before, during, after</h3>
<ul>
<li><strong>Before:</strong> Quick skin check, confirm device placement, test audio</li>
<li><strong>During:</strong> Watch for fatigue, slow scanning if accuracy drops</li>
<li><strong>After:</strong> Inspect equipment, clean contact points, note what worked</li>
</ul>

<div class="info-callout">
<p><strong>Stop and rest</strong> if you see pain, breath-holding, grimace, skin redness, or sudden accuracy loss.</p>
</div>
<div class="chapter-navigation">
<a href="#core-skills" class="nav-button prev" data-chapter="core-skills">
<span class="nav-arrow">←</span>
<span>Previous: Core AAC Skills</span>
</a>
<a href="#digital-world" class="nav-button next" data-chapter="digital-world">
<span>Next: Build the Digital World</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 11: Digital World -->
<section class="chapter" id="digital-world" data-chapter="digital-world">
<h2>Chapter 11: Build the Digital World</h2>

<h3>Three essential layers</h3>
<ol>
<li><strong>Core Communication:</strong> Keyboard with speech for full expression</li>
<li><strong>Independence:</strong> Volume, show or music controls, smart home</li>
<li><strong>Fun and Growth:</strong> Motivating games that build skills</li>
</ol>

<h3>Feature checklist inspired by the OpenAAC community</h3>

<h4>Vocabulary</h4>
<ul>
<li>Core words and pre-built sets as a starting point</li>
<li>Personalized words and names</li>
<li>Multiple grid sizes</li>
<li>Motor planning with consistent button spots</li>
<li>Optional auto-return to the home board</li>
</ul>

<h4>Display</h4>
<ul>
<li>Words with symbols, words-only, or symbols-only</li>
<li>Clear grid layout with links</li>
<li>High contrast option</li>
<li>Skin tone choices for people symbols</li>
<li>Non-grid layouts for special access needs</li>
</ul>

<h4>Customization</h4>
<ul>
<li>Add buttons with personal images</li>
<li>Upload custom symbols and photos</li>
<li>Rearrange for physical access patterns</li>
<li>Hide or show buttons to focus</li>
<li>Record personal audio</li>
<li>Adjustable grid size and spacing</li>
<li>Color coding by part of speech</li>
</ul>

<h4>Sentence box</h4>
<ul>
<li>Build sentences before speaking</li>
<li>Speak the entire sentence or the last word</li>
<li>Clear and backspace controls</li>
<li>Auto-clear option</li>
<li>Quick access phrases and saved favorites</li>
</ul>

<h4>Keyboard and spelling</h4>
<ul>
<li>Full alphabet</li>
<li>Word prediction that learns from history</li>
<li>Punctuation and capitalization</li>
</ul>

<h4>Scanning access</h4>
<ul>
<li>Row then column scanning</li>
<li>Select on press or on release, based on need</li>
<li>Auditory scanning</li>
<li>Hold-to-select timing</li>
<li>Region scanning and drill-down</li>
<li>Debounce or cooldown to prevent accidental hits</li>
</ul>

<h4>Audio feedback</h4>
<ul>
<li>Confirm every selection with speech or a sound</li>
</ul>

<h4>Data and backup</h4>
<ul>
<li>Export to open formats such as Open Board Format when possible</li>
<li>Offer offline use and simple backup steps</li>
</ul>
<div class="chapter-navigation">
<a href="#comfort-positioning" class="nav-button prev" data-chapter="comfort-positioning">
<span class="nav-arrow">←</span>
<span>Previous: Comfort, Positioning, and Ergonomics</span>
</a>
<a href="#teaching-routines" class="nav-button next" data-chapter="teaching-routines">
<span>Next: Teaching, Daily Routines, and Caregiver Training</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 12: Teaching -->
<section class="chapter" id="teaching-routines" data-chapter="teaching-routines">
<h2>Chapter 12: Teaching, Daily Routines, and Caregiver Training</h2>

<h3>Three pillars</h3>
<p>Consistency, motivation, caregiver support.</p>

<h3>First sessions</h3>
<p>Short and fun with no pressure.</p>

<h3>Daily routine</h3>
<p>Use real life: greetings, games, shows, bedtime messages.</p>

<h3>Caregiver training</h3>
<p>Placement and setup, troubleshooting, modeling AAC, patience.</p>

<h3>Layer complexity slowly</h3>
<p>Let each stage feel rewarding before moving on.</p>

<h3>Track progress</h3>
<p>Simple metrics: accurate presses, choices made, time engaged, smiles, new words used.</p>

<h3>When to seek help</h3>
<ul>
<li>Pain, skin breakdown, or new positioning issues</li>
<li>Repeated device failures or access problems</li>
<li>Confusion about vocabulary layout or growth path</li>
</ul>
<div class="chapter-navigation">
<a href="#digital-world" class="nav-button prev" data-chapter="digital-world">
<span class="nav-arrow">←</span>
<span>Previous: Build the Digital World</span>
</a>
<a href="#sustainability" class="nav-button next" data-chapter="sustainability">
<span>Next: Long-Term Sustainability</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 13: Sustainability -->
<section class="chapter" id="sustainability" data-chapter="sustainability">
<h2>Chapter 13: Long-Term Sustainability</h2>

<h3>Four elements</h3>
<ol>
<li><strong>Maintenance:</strong> Clean daily, back up weekly, test monthly</li>
<li><strong>Growth:</strong> Plan for changes in strength, vision, posture, and interests</li>
<li><strong>Finances:</strong> Budget for repairs and upgrades, look for grants</li>
<li><strong>Knowledge:</strong> Document steps for new caregivers</li>
</ol>

<h3>Backup plan</h3>
<p>Spare switches and cables, plus a secondary device if you can.</p>

<h3>Legacy folder</h3>
<p>USB with software, laminated instructions, short demo videos, and contacts.</p>

<h3>Long-term functionality</h3>
<ul>
<li>Backwards-compatible updates</li>
<li>Works offline when needed</li>
<li>Data export to open formats</li>
<li>Cloud or removable backup options</li>
<li>Clear user documentation</li>
<li>Real-user beta testing</li>
<li>Cross-platform support where possible</li>
<li>Sync across devices</li>
</ul>

<div class="info-callout">
<p>Many users keep older devices because they work. Plan for longevity so people are not stranded.</p>
</div>
<div class="chapter-navigation">
<a href="#teaching-routines" class="nav-button prev" data-chapter="teaching-routines">
<span class="nav-arrow">←</span>
<span>Previous: Teaching, Daily Routines, and Caregiver Training</span>
</a>
<a href="#sharing-tools" class="nav-button next" data-chapter="sharing-tools">
<span>Next: Sharing Your Tools and Helping Others</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 14: Sharing -->
<section class="chapter" id="sharing-tools" data-chapter="sharing-tools">
<h2>Chapter 14: Sharing Your Tools and Helping Others</h2>

<h3>Why share?</h3>
<p>Every custom solution can inspire or help another family. When you build or adapt a tool, you are part of a growing community making technology more accessible for everyone.</p>

<h3>How to share safely</h3>
<ul>
<li>Remove personal data, faces, or identifying photos from screenshots or code examples</li>
<li>Test your tool before sharing. Include simple setup notes or a short video demo</li>
<li>Make it clear if your tool is still experimental or meant for personal use</li>
</ul>

<h3>Ways to share</h3>
<ul>
<li><strong>GitHub or personal website:</strong> Host code, spreadsheets, or templates. Add a short README explaining what it does and how to use it</li>
<li><strong>NARBE Foundation or similar communities:</strong> Submit tools or games to be reviewed and possibly hosted on resource pages</li>
<li><strong>Discord or online AAC forums:</strong> Post screenshots or ideas to spark collaboration</li>
<li><strong>YouTube or social clips:</strong> Share short demos showing how the system works (without showing private medical details)</li>
<li><strong>Guides and templates:</strong> Convert your working setups into downloadable spreadsheets, JSON layouts, or step-by-step how-tos others can adapt</li>
</ul>

<h3>What to include</h3>
<ul>
<li>Tool name and what it does</li>
<li>Required hardware (for example, one or two switches, tablet, or camera)</li>
<li>Input method (spacebar, enter, eye tracker, etc.)</li>
<li>Platform (Python, HTML5, Android, Windows)</li>
<li>Optional: a video clip showing it in action</li>
<li>License type (personal, open-source, or non-commercial use only)</li>
</ul>

<h3>Before sharing publicly</h3>
<ul>
<li>Always test for safety and reliability</li>
<li>Include a basic disclaimer that your tool is offered as-is</li>
<li>If you worked with AI tools, note that AI-generated code should be verified before use</li>
<li>If your tool is intended for someone's specific physical or cognitive needs, say so clearly</li>
</ul>

<h3>Join the movement</h3>
<p>NARBE House and other community projects rely on people like you who try, build, and share. By uploading your tools, documenting your process, or even sharing your ideas, you help accelerate innovation for families everywhere.</p>
<div class="chapter-navigation">
<a href="#sustainability" class="nav-button prev" data-chapter="sustainability">
<span class="nav-arrow">←</span>
<span>Previous: Long-Term Sustainability</span>
</a>
<a href="#bringing-together" class="nav-button next" data-chapter="bringing-together">
<span>Next: Bringing It All Together</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Chapter 15: Bringing Together -->
<section class="chapter" id="bringing-together" data-chapter="bringing-together">
<h2>Chapter 15: Bringing It All Together</h2>

<p><strong>AAC is cyclical</strong> — as needs change, revisit earlier steps. Adjust devices, update software, and refresh routines.</p>

<p><strong>Real success</strong> — connection, independence, joy, and voice.</p>

<h3>Regular checkups</h3>
<p>Every 3 to 6 months, reassess comfort, positioning, motivation, and caregiver knowledge.</p>

<h3>Caregiver self-care</h3>
<p>Use breaks, support networks, and shared duties to prevent burnout.</p>

<h3>Stay flexible</h3>
<p>Back up weekly, celebrate milestones, keep what works, and be selective with new tools.</p>
<div class="chapter-navigation">
<a href="#sharing-tools" class="nav-button prev" data-chapter="sharing-tools">
<span class="nav-arrow">←</span>
<span>Previous: Sharing Your Tools and Helping Others</span>
</a>
<a href="#glossary" class="nav-button next" data-chapter="glossary">
<span>Next: Glossary</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Glossary -->
<section class="chapter" id="glossary" data-chapter="glossary">
<h2>Glossary</h2>

<ul>
<li><strong>AAC:</strong> Tools that support or replace natural speech</li>
<li><strong>Scanning:</strong> Computer highlights options in sequence, user selects</li>
<li><strong>Text-to-speech:</strong> Software that speaks written text aloud</li>
<li><strong>Core words:</strong> Common words used across many contexts</li>
<li><strong>Motor planning:</strong> Keeping button locations consistent to build memory</li>
<li><strong>Debounce:</strong> Ignore rapid repeated inputs to prevent accidental selection</li>
</ul>
<div class="chapter-navigation">
<a href="#bringing-together" class="nav-button prev" data-chapter="bringing-together">
<span class="nav-arrow">←</span>
<span>Previous: Bringing It All Together</span>
</a>
<a href="#key-takeaways" class="nav-button next" data-chapter="key-takeaways">
<span>Next: Key Takeaways</span>
<span class="nav-arrow">→</span>
</a>
</div>
</section>

<!-- Key Takeaways -->
<section class="chapter" id="key-takeaways" data-chapter="key-takeaways">
<h2>Key Takeaways</h2>

<ol>
<li>Start simple and build step by step</li>
<li>Motivation drives consistent use</li>
<li>Personalization matters</li>
<li>Comfort enables longer, better sessions</li>
<li>One reliable movement is enough</li>
<li>Speech feedback is strongly recommended for any scanning system</li>
<li>AI tools make custom AAC possible for beginners</li>
<li>Vibe coding supports rapid, real-world iteration</li>
<li>Literacy and choice-making are core skills</li>
<li>Plan for long-term support and sustainability</li>
<li>Involve the person in every decision</li>
<li>Plan for growth and emergencies</li>
<li>Train multiple caregivers and document everything</li>
<li>Celebrate every victory</li>
</ol>

<div class="chapter-navigation">
<a href="#glossary" class="nav-button prev" data-chapter="glossary">
<span class="nav-arrow">←</span>
<span>Previous: Glossary</span>
</a>
<div></div>
</div>
</section>

</div>
</main>

<!-- Fixed mobile donate footer -->
<div class="mobile-donate-footer">
<div class="container">
<a class="donate-btn" href="index.html#founding-donor">Support Our Mission</a>
</div>
</div>

<footer>
<div class="container">
<p>© 2025 NARBE Foundation. Building accessible technology for everyone.</p>
</div>
</footer>

<script>
// Mobile menu functionality
document.addEventListener('DOMContentLoaded', () => {
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const navLinks = document.getElementById('navLinks');
  
  if (mobileMenuBtn && navLinks) {
    mobileMenuBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      navLinks.classList.toggle('active');
      
      // Animate hamburger menu
      mobileMenuBtn.classList.toggle('active');
      const spans = mobileMenuBtn.querySelectorAll('span');
      if (navLinks.classList.contains('active')) {
        spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
        spans[1].style.opacity = '0';
        spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
      } else {
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
      }
    });
    
    // Close menu when clicking on a link
    navLinks.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') {
        navLinks.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        const spans = mobileMenuBtn.querySelectorAll('span');
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
      }
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!mobileMenuBtn.contains(e.target) && !navLinks.contains(e.target)) {
        navLinks.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        const spans = mobileMenuBtn.querySelectorAll('span');
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
      }
    });
  }
});

// Chapter navigation and search functionality
document.addEventListener('DOMContentLoaded', () => {
  const chapterLinks = document.querySelectorAll('.chapter-link');
  const chapters = document.querySelectorAll('.chapter');
  const searchBox = document.getElementById('searchBox');
  const searchResults = document.getElementById('searchResults');
  const progressBar = document.getElementById('progressBar');
  const chapterNavHeader = document.querySelector('.chapter-nav-header');
  const chapterList = document.getElementById('chapterList');
  const collapseArrow = document.getElementById('collapseArrow');
  
  // Store all chapter content for searching
  let searchData = [];
  
  // Initialize search data
  chapters.forEach(chapter => {
    const title = chapter.querySelector('h2')?.textContent || '';
    const content = chapter.textContent;
    const id = chapter.id;
    
    // Split content into searchable chunks
    const paragraphs = chapter.querySelectorAll('p, li, h3, h4');
    paragraphs.forEach(p => {
      if (p.textContent.trim().length > 20) {
        searchData.push({
          id: id,
          title: title,
          content: p.textContent.trim(),
          element: p
        });
      }
    });
  });
  
  // Chapter navigation
  function showChapter(targetChapter) {
    // Hide all chapters
    chapters.forEach(chapter => {
      chapter.classList.remove('active');
    });
    
    // Remove active class from all links
    chapterLinks.forEach(link => {
      link.classList.remove('active');
    });
    
    // Show target chapter
    const target = document.getElementById(targetChapter);
    if (target) {
      target.classList.add('active');
      
      // Auto-scroll to chapter title with offset for fixed header
      setTimeout(() => {
        const chapterTitle = target.querySelector('h2');
        if (chapterTitle) {
          const headerHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h')) || 96;
          const elementTop = chapterTitle.getBoundingClientRect().top + window.pageYOffset;
          const offsetTop = elementTop - headerHeight - 20; // Extra 20px padding
          
          window.scrollTo({
            top: offsetTop,
            behavior: 'smooth'
          });
        }
      }, 100); // Small delay to ensure chapter is visible
    }
    
    // Add active class to corresponding link
    const activeLink = document.querySelector(`[data-chapter="${targetChapter}"]`);
    if (activeLink) {
      activeLink.classList.add('active');
    }
    
    // Clear search results
    searchResults.style.display = 'none';
    clearHighlights();
    
    // Update URL hash
    window.history.replaceState(null, null, `#${targetChapter}`);
  }
  
  // Handle chapter link clicks (including navigation buttons)
  chapterLinks.forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const chapter = link.getAttribute('data-chapter');
      showChapter(chapter);
    });
  });
  
  // Handle navigation button clicks
  document.querySelectorAll('.nav-button').forEach(button => {
    button.addEventListener('click', (e) => {
      e.preventDefault();
      const chapter = button.getAttribute('data-chapter');
      if (chapter) {
        showChapter(chapter);
      }
    });
  });
  
  // Search functionality
  function performSearch(query) {
    if (query.trim().length < 2) {
      searchResults.style.display = 'none';
      return;
    }
    
    const results = searchData.filter(item => 
      item.content.toLowerCase().includes(query.toLowerCase()) ||
      item.title.toLowerCase().includes(query.toLowerCase())
    ).slice(0, 10); // Limit to 10 results
    
    if (results.length > 0) {
      searchResults.innerHTML = results.map(result => {
        const excerpt = highlightSearchTerm(
          truncateText(result.content, 100), 
          query
        );
        return `
          <div class="search-result" data-chapter="${result.id}">
            <div class="search-result-title">${result.title}</div>
            <div class="search-result-excerpt">${excerpt}</div>
          </div>
        `;
      }).join('');
      searchResults.style.display = 'block';
      
      // Add click handlers to search results
      searchResults.querySelectorAll('.search-result').forEach(result => {
        result.addEventListener('click', () => {
          const chapter = result.getAttribute('data-chapter');
          showChapter(chapter);
          searchBox.value = '';
          searchResults.style.display = 'none';
        });
      });
    } else {
      searchResults.innerHTML = '<div class="search-result"><div class="search-result-title">No results found</div></div>';
      searchResults.style.display = 'block';
    }
  }
  
  function highlightSearchTerm(text, term) {
    const regex = new RegExp(`(${term})`, 'gi');
    return text.replace(regex, '<span class="highlight">$1</span>');
  }
  
  function truncateText(text, maxLength) {
    if (text.length <= maxLength) return text;
    return text.substr(0, maxLength) + '...';
  }
  
  function clearHighlights() {
    document.querySelectorAll('.highlight').forEach(highlight => {
      const parent = highlight.parentNode;
      parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
      parent.normalize();
    });
  }
  
  // Search event listeners
  searchBox.addEventListener('input', (e) => {
    performSearch(e.target.value);
  });
  
  searchBox.addEventListener('focus', () => {
    if (searchBox.value.trim().length >= 2) {
      performSearch(searchBox.value);
    }
  });
  
  // Hide search results when clicking outside
  document.addEventListener('click', (e) => {
    if (!searchBox.contains(e.target) && !searchResults.contains(e.target)) {
      searchResults.style.display = 'none';
    }
  });
  
  // Progress bar functionality
  function updateProgressBar() {
    const activeChapter = document.querySelector('.chapter.active');
    if (activeChapter) {
      const allChapters = Array.from(chapters);
      const activeIndex = allChapters.indexOf(activeChapter);
      const progress = ((activeIndex + 1) / allChapters.length) * 100;
      progressBar.style.width = `${progress}%`;
    }
  }
  
  // Initialize with first chapter or URL hash
  const urlHash = window.location.hash.substring(1);
  if (urlHash && document.getElementById(urlHash)) {
    showChapter(urlHash);
  } else {
    // Show disclaimer chapter but don't auto-scroll to title
    chapters.forEach(chapter => {
      chapter.classList.remove('active');
    });
    chapterLinks.forEach(link => {
      link.classList.remove('active');
    });
    
    const disclaimerChapter = document.getElementById('disclaimer');
    if (disclaimerChapter) {
      disclaimerChapter.classList.add('active');
    }
    
    const disclaimerLink = document.querySelector('[data-chapter="disclaimer"]');
    if (disclaimerLink) {
      disclaimerLink.classList.add('active');
    }
    
    // Clear URL hash and don't scroll
    window.history.replaceState(null, null, window.location.pathname);
  }
  
  // Update progress bar initially
  updateProgressBar();
  
  // Update progress bar when chapters change
  const observer = new MutationObserver(() => {
    updateProgressBar();
  });
  
  chapters.forEach(chapter => {
    observer.observe(chapter, { attributes: true, attributeFilter: ['class'] });
  });
  
  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.target === searchBox) return;
    
    const activeChapter = document.querySelector('.chapter.active');
    if (!activeChapter) return;
    
    const allChapters = Array.from(chapters);
    const activeIndex = allChapters.indexOf(activeChapter);
    
    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
      e.preventDefault();
      if (activeIndex > 0) {
        const prevChapter = allChapters[activeIndex - 1];
        showChapter(prevChapter.id);
      }
    } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
      e.preventDefault();
      if (activeIndex < allChapters.length - 1) {
        const nextChapter = allChapters[activeIndex + 1];
        showChapter(nextChapter.id);
      }
    } else if (e.key === '/' || (e.ctrlKey && e.key === 'f')) {
      e.preventDefault();
      searchBox.focus();
    }
  });
  
  // Collapsible chapter navigation - updated to use the search collapse toggle
  const searchCollapseToggle = document.getElementById('searchCollapseToggle');
  
  if (searchCollapseToggle && chapterList && collapseArrow) {
    searchCollapseToggle.addEventListener('click', () => {
      chapterList.classList.toggle('expanded');
      collapseArrow.classList.toggle('collapsed');
    });
  }
});
</script>
</body>
</html>